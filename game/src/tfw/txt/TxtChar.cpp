/***********************************************************************//**
 *  TxtChar.cpp
 *  Terras Framework
 *
 *  Created by Ryoutarou Kishi on 2011/11/27.
 *  Copyright 2011 Altoterras Corporation. All rights reserved.
 *
**//***********************************************************************/

////////////////////////////////////////////////////////////////////////////
// インクルードファイル

// Base

// Self
#include "TxtChar.h"

// Friends

// External

// Library

////////////////////////////////////////////////////////////////////////////

TFW_BEGIN_NS

////////////////////////////////////////////////////////////////////////////
// クラス

//==========================================================================
// メソッド

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// 外部サービス

/*---------------------------------------------------------------------*//**
	文字列を作成する
**//*---------------------------------------------------------------------*/
VcString TxtChar::makeString() const
{
	char buf[5];
	s32 i = 0;
	while(i < _bytes)
	{
		buf[i] = getCodeByte(i);
		i++;
	}
	ASSERT(i < 5);
	buf[i] = '\0';
	return VcString(buf);
}

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// 内部制御

/*---------------------------------------------------------------------*//**
	コンストラクタ
**//*---------------------------------------------------------------------*/
TxtChar::TxtChar()
	: _code(0)
	, _bytes(0)
{
}

/*---------------------------------------------------------------------*//**
	コンストラクタ
**//*---------------------------------------------------------------------*/
TxtChar::TxtChar(char c)
	: _code(c)
	, _bytes(1)
{
}

/*---------------------------------------------------------------------*//**
	コンストラクタ
**//*---------------------------------------------------------------------*/
TxtChar::TxtChar(u32 code, u16 bytes)
{
	set(code, bytes);
}

/*---------------------------------------------------------------------*//**
	コピー コンストラクタ
**//*---------------------------------------------------------------------*/
TxtChar::TxtChar(const TxtChar& src)
{
	copy(&src);
}

/*---------------------------------------------------------------------*//**
	コピー
**//*---------------------------------------------------------------------*/
void TxtChar::copy(const TxtChar* src)
{
	_code = src->_code;
	_bytes = src->_bytes;
}

/*---------------------------------------------------------------------*//**
	設定
**//*---------------------------------------------------------------------*/
void TxtChar::set(u32 code, u16 bytes)
{
	_code = code;
	_bytes = bytes;
}

////////////////////////////////////////////////////////////////////////////

TFW_END_NS