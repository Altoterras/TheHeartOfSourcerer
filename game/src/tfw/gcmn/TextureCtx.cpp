/***********************************************************************//**
 *  TextureCtx.cpp
 *  Terras Framework
 *
 *  Created by Ryoutarou Kishi on 2009/12/29.
 *  Copyright 2009 Altoterras Corporation. All rights reserved.
 *
**//***********************************************************************/

////////////////////////////////////////////////////////////////////////////
// インクルードファイル

// Base

// Self
#include "TextureCtx.h"

// Friends
#include "TexAnim.h"
#include "TexAnimCtx.h"

// External

// Library

////////////////////////////////////////////////////////////////////////////

TFW_BEGIN_NS

////////////////////////////////////////////////////////////////////////////
// クラス

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// 内部制御

/*---------------------------------------------------------------------*//**
	コンストラクタ
**//*---------------------------------------------------------------------*/
TextureCtx::TextureCtx()
	: _tactx(0L)
{
}

/*---------------------------------------------------------------------*//**
	デストラクタ
**//*---------------------------------------------------------------------*/
TextureCtx::~TextureCtx()
{
	ASSERT(_tactx == 0L);
}

/*---------------------------------------------------------------------*//**
	作成
**//*---------------------------------------------------------------------*/
bool TextureCtx::create(TexAnim* texanim)
{
	if(texanim != 0L)
	{
		 _tactx = new TexAnimCtx();
		 if(!texanim->createContext(_tactx))
		 {
			 destroy();
			 return false;
		 }
	}

	return true;
}

/*---------------------------------------------------------------------*//**
	破棄
**//*---------------------------------------------------------------------*/
void TextureCtx::destroy()
{
	if(_tactx != 0L)
	{
		_tactx->destroy();
		delete _tactx;
		_tactx = 0L;
	}
}

////////////////////////////////////////////////////////////////////////////

TFW_END_NS