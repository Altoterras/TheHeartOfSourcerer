/***********************************************************************//**
 *	Situation.cpp
 *	Enlight Game Application
 *
 *	Created by Ryoutarou Kishi on 2010/04/18.
 *	Copyright 2010 Altoterras Corporation. All rights reserved.
 *
**//***********************************************************************/

////////////////////////////////////////////////////////////////////////////
// インクルードファイル

// Base

// Self
#include "Situation.h"

// Friends
#include "../body/Game.h"
#include "../episode/party/MyParty.h"

// External

// Library

////////////////////////////////////////////////////////////////////////////

SRCR_BEGIN_NS


////////////////////////////////////////////////////////////////////////////
// クラス

//==========================================================================
// Situation メソッド

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// 外部サービス

/*---------------------------------------------------------------------*//**
	現在のカテゴリ 01 シチュエーションを得る
**//*---------------------------------------------------------------------*/
u16 Situation::getCurrentSituationFlags(int category) const
{
	u16 flags = 0;

	if(category == 1)
	{
		MyParty* party = (MyParty*)Game::getGame()->getMyParty();
		if(party != 0L)
		{
			// SF_C01_ASA_ONLY か？
			TFW_SET_FLAG(
				flags,
				SF_C01_ASA_ONLY,
				party->isEnablePc(MyParty::PC_MY) && !party->isEnablePc(MyParty::PC_PTN) && !party->isEnablePc(MyParty::PC_HLP)	);

			// SF_C01_BE_COPRO か？
			TFW_SET_FLAG(
				flags,
				SF_C01_BE_COPRO,
				party->isEnablePc(MyParty::PC_PTN)	);
		}
	}

	return flags;
}

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// 内部制御

/*---------------------------------------------------------------------*//**
	コンストラクタ
**//*---------------------------------------------------------------------*/
Situation::Situation()
{
}

/*---------------------------------------------------------------------*//**
	デストラクタ
**//*---------------------------------------------------------------------*/
Situation::~Situation()
{
}

/*---------------------------------------------------------------------*//**
	作成
**//*---------------------------------------------------------------------*/
bool Situation::create()
{
	return true;
}

/*---------------------------------------------------------------------*//**
	破棄
**//*---------------------------------------------------------------------*/
void Situation::destroy()
{
}

////////////////////////////////////////////////////////////////////////////

SRCR_END_NS
